{% extends "base.html" %}

{% block title %}
{{pro_item.title}}
{% endblock %}
{% block body %}
<style>
@media screen and (max-width: 768px) {
    .product-list {
        flex-direction:column;
    }
    .w-75{
        width: 90% !important;
    }
    .product-box{
        width:100%
    }

}
.img-wrap{
    width: 400px;
    position: relative;
    margin: 20px 20px 0 0;
    align-items: center;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    justify-content: center;
    transition: opacity .3s;
}
.img-wrap img{
    object-fit: cover;
    width: 80%;
    height: 50%;
<!--    margin: -20% 0 -10% 0;-->
}

.product-list{
    display:flex;
    align-items:center
}


</style>

<div class="container w-75">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <div class="section product-header">
        <div class="columns">
            <div class="column">
                <a style="text-decoration:none" href="/">
                    <button type="button" class="btn btn-sm btn-light" onclick="history.back();">
                        <!--                <a style="text-decoration: none" href="/">-->
                        <!--                    <button type="button" class="btn btn-sm btn-light">-->
                        <span style="display: flex; align-items:center;" class="menu-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-arrow-left" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                        </svg>
                        </span>
                    </button>&nbsp;
                </a>
                <!--                </a>-->
                <span class="title is-4 has-text-muted">{{pro_item.type_title}}</span>
                <span class="title is-3 has-text-muted">|</span>
                <span class="title is-3">{{pro_item.title}}</span>
            </div>
        </div>
    </div>
    <div class="section">
        <div class="columns">
            <div class="column is-6">
                <div class="product-list">
                    <div style="z-index:-10" class="img-wrap">
                        <!--                        style="margin:0 20px 0 0; width: 400px; object-position: center center;"-->
                        <img class="border rounded-3" src="{{pro_item.picture}}" alt=" ">
                    </div>
                    <div class="product-box">

                        <div class="title is-2">{{pro_item.title}}</div>
                        <p class="title is-3 has-text-muted">{{pro_item.price}} ₽ </p>
                        <!--                        $("select").imagepicker()-->
                        <!--                        <select class="image-picker show-html">-->
                        <div style="display:flex; align-items: center; justify-content:center">
                            {%for item_pic in pro_pic %}
                            <div style="display: flex; width:105px; height:105px; align-items: center; justify-content:center"
                                 class="border rounded-3">
                                <img style="width:100px; margin:-10%" src="{{item_pic.picture}}" alt=" ">
                            </div>

                            <!--                            <option-->
                            <!--                                    data-img-src='http://www.example.com/image.jpg'-->
                            <!--                                    value='42'-->
                            <!--                            >-->
                            <!--                            <option data-img-src="{{item_pic.picture}}" value="{{item_pic.id}}">{{item_pic.id}}</option>-->
                            {%endfor%}
                        </div>
                        <!--                        </select>-->
                        <br>
                        <p class="">
                            <a style="text-decoration: none; color: black" href="#">
                                <i class="fa fa-minus cart-icon"></i>
                            </a>
                            &nbsp;
                            <input type="text" name="" class="input has-text-centered" value="1" style="width:40px;">
                            &nbsp;
                            <a style="text-decoration: none; color: black" href="#">
                                <i class="fa fa-plus cart-icon"></i>
                            </a>
                            &nbsp; &nbsp; &nbsp;
                        <p><i class="bi bi-cart"></i></p>
                        {%if sess_login == true %}
                        <button type="button" class="btn btn-danger w-100" onclick="get_len();">В корзину</button>
                        <p id="text_info" style="text-align: center" class="mt-3"></p>
                        {%else%}
                        <button disabled type="button" title="Требуется вход" class="btn btn-danger w-100">В корзину
                        </button>
                        <p style="text-align: center" class="mt-3">Требуется вход в аккаунт</p>
                        {%endif%}
                        <script>
                        function get_len() {
                            $.ajax({
                                type: "POST",
                                url: "/add_to_cart",
                                data: $('form').serialize(),
                                success: function(response) {
                                    var json = jQuery.parseJSON(response)
                                    $('#text_info').html(json.msg)
                                    console.log(response);
                                },
                                error: function(error) {
                                    console.log(error);
                                }
                            });
                        }


                        </script>
                    </div>
                </div>
            </div>
            <div style="" class="column is-5 is-offset-1">
                <hr>
                <br>
                <p class="">
                    <i class="fa fa-star title is-5" style="color:#ed6c63"></i>
                    <i class="fa fa-star title is-5" style="color:#ed6c63"></i>
                    <i class="fa fa-star title is-5" style="color:#ed6c63"></i>
                    <i class="fa fa-star title is-5"></i>
                    <i class="fa fa-star title is-5"></i>
                    &nbsp; &nbsp;
                    <strong>41 Reviews</strong>
                    &nbsp; &nbsp;
                    <!--                    <a href="#">show all</a>-->
                </p>
                <br>
                <p>{{pro_item.description}}</p>
                <br>
                <table class="table">
                    <tbody>
                    <tr>
                        <td class="has-text-right">
                            <strong>Item ID</strong>
                        </td>
                        <td>1234</td>
                    </tr>
                    <tr>
                        <td class="has-text-right">
                            <strong>Seller</strong>
                        </td>
                        <td>jsmith</td>
                    </tr>
                    <tr>
                        <td class="has-text-right">
                            <strong>Added</strong>
                        </td>
                        <td>3 days ago</td>
                    </tr>
                    <tr>
                        <td class="has-text-right">
                            <strong>Views</strong>
                        </td>
                        <td>3</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="section">
        <div class="container">
            <div class="tabs">
                <ul>
                    <li class="is-active"><a>Overview</a></li>
                    <li><a>Details</a></li>
                    <li><a>Reviews</a></li>
                    <li><a>Shipping Calculator</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}